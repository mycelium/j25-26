### 4. Java: Word Frequency Counter

- Реализовать подсчет частоты слов в текстовом файле в двух вариантах:
  - Загрузка всего содержимого файла с последующей обработкой
  - Потоковая обработка файла (программа должна обрабатывать файлы большего объема, чем доступная оперативная память)
- Выводить результат работы подсчета


### Особенности реализации
### Проверка объема документа 
Данныя программа поддерживает два механизма обработки файла:
- Загрузка всего файла (countWordsInMemory) - для быстрой обработки небольших файлов
- Потоковая обработка файла (countWordsStreaming) - для обработки больших файлов построчно

Для выбора механизма необходимо определить превышает ли объем файла объем доступной оперативной памяти. При условии превышения должна происходить потоковая обработка.

Так как система позволяет использовать объем памяти равный 4032 Мб, то было принято решение реализовать имитацию превышения файлом объема доступной памяти путем установки искусственного ограничения в 20 МБ. Демонстранция этого механизма приведена ниже:

 ``` java
     long fileSize = Files.size(filePath);
long maxSize = 20 * 1024 * 1024;  // 20 МБ лимит
if (fileSize > maxSize) {
    throw new OutOfMemoryError("File size " + (fileSize/1024)/1024 + " MB exceeds 20 MB limit.");}
 ```

Данный механизм запускается в методе countWordsInMemory и выбрасывает исключение OutOfMemoryError, которое обрабатывается в исходном методе countWords, вызывая выполнение метода countWordsStreaming. 

### Разбиение строки на слова 

Для разбиение строки на слова используются регулярные выражения. Метод для такой обработки строк представлен ниже:

 ``` java
      private void processLine(String line, Map<String, Integer> frequencies) {
    String[] words = line.split("[^\\p{L}-]+");
    for (String word : words) {
        if (!word.isEmpty() && word.matches(".*\\p{L}.*")) {
           
            if (word.startsWith("-")) {
                word = word.replaceAll("^-+", "");
            }
            if (!word.isEmpty()) {
                frequencies.merge(word.toLowerCase(), 1, Integer::sum);
            }
        }
    }
}
 ```
Первое регулярное выражение "[^\\p{L}-]+" позволяет разбить строку не по самим словам, а по последовательностям символов, которые не являются частью слов. Следующим выражением ".*\\p{L}.*" осуществляется проверка на то, что полученные слова точно являются словами, а например не последовательностью символов "-". Также в методе проверяется не начинается ли слово с тире, как в случаях с диалогами в текстах. 

### Вывод результата

Результаты выводятся в формате Frequency = X; Words: [word1, word2, ...] где X - количество вхождений, а в квадратных скобках перечислены слова с данной частотой.

Вывод группируется по частоте встречаемости, группы сортируются по убыванию частоты, а слова внутри каждой группы сортируются в алфавитном порядке. Для обеспечения корректного отображения Unicode-символов используется PrintStream с явным указанием кодировки UTF-8.


