## Java: Parallel matrix multiplication
### Подбор оптимального количества потоков
На матрицах размером меньше $160\times160$ многопоточное умножение 
занимает больше времени, чем однопоточная реализация, так как больше 
ресурсов затрачивается на создание потоков, чем на сам процесс умножения. 
Тесты проводились на матрицах размером $200 \times 200$, $500 \times 500$, 
$1000 \times 1000$ и $2000 \times 2000$. Для матрицы каждого размера умножение 
производилось 20 раз двумя способами: однопоточным и многопоточным. 
Многопоточное умножение производилось на количестве потоков от 2 до 24.

#### Матрица $200 \times 200$
| Количество потоков | Время выполнения (мс) |
|--------------------|-----------------------|
| 1                  | 4.65                  |
| 2                  | 4.40                  |
| 4                  | 3.85                  |
| 6                  | 3.85                  |
| 8                  | 7.70                  |
| 16                 | 6.25                  |
| 20                 | 7.69                  |
| 24                 | 6.60                  |

На матрице размером $200 \times 200$ оптимальное значение времени достигается 
на 4-6 потоках. При увеличении количества потоков, время выполнения только 
увеличивается, так как на матрицах маленького размера расходы на создание потоков 
сопоставимы с выигрышем от параллелизации.

#### Матрица $500 \times 500$
| Количество потоков | Время выполнения (мс) |
|--------------------|-----------------------|
| 1                  | 58.10                 |
| 2                  | 33.40                 |
| 4                  | 27.55                 |
| 6                  | 22.85                 |
| 8                  | 18.65                 |
| 16                 | 15.65                 |
| 20                 | 18.05                 |
| 24                 | 16.90                 |

На матрице размером $500 \times 500$ лучший результат времени 
показало умножение на 16 потоках. Но разница с результатом на 8 потоках 
совсем небольшая, поэтому оптимальным значением можно считать 8 потоков. 

#### Матрица $1000 \times 1000$
| Количество потоков | Время выполнения (мс) |
|--------------------|-----------------------|
| 1                  | 953.95                |
| 2                  | 617.60                |
| 4                  | 337.65                |
| 6                  | 166.00                |
| 8                  | 131.75                |
| 16                 | 112.95                |
| 20                 | 124.90                |
| 24                 | 123.45                |

Самое оптимально значение достигается на 16 потоках, при увеличении их количества 
время уже начинает возрастать. 

#### Матрица $2000 \times 2000$
| Количество потоков | Время выполнения (мс) |
|--------------------|-----------------------|
| 1                  | 8012.60               |
| 2                  | 5559.95               |
| 4                  | 4330.70               |
| 6                  | 3881.10               |
| 8                  | 3211.25               |
| 16                 | 3107.75               |
| 20                 | 3592.15               |
| 24                 | 3703.25               |

На матрице $2000\times 2000$ самый лучший результат также показали 16 потоков, но 
относительное ускорение значительно меньше, если сравнивать с матрицей $1000 \times 1000$. 

#### Выводы
На матрицах большого размера 16 потоков показывают стабильно хорошие результаты, для матриц 
маленького размера ($500 \times 500 < x\times x< 1000 \times 1000$) достаточно и 8 потоков. 
Для совсем маленьких матриц оптимальнее всего применять 4-6 потоков. 
