# Лабораторная работа 7: Параллельное умножение матриц

## Описание
Реализация параллельного умножения матриц с использованием многопоточности на Java. Программа использует `ExecutorService` для управления потоками и сравнивает производительность с однопоточной версией.

## Реализация

### Основные методы
1. `multiply(double[][] A, double[][] B)` - однопоточное умножение матриц
2. `multiplyParallel(double[][] A, double[][] B)` - параллельное умножение с автоматическим выбором количества потоков
3. `multiplyParallel(double[][] A, double[][] B, int threadCount)` - параллельное умножение с заданным количеством потоков
Матрица делится по строкам между потоками. Каждый поток вычисляет свой блок строк результата. Для создания пула потоков используется `Executors.newFixedThreadPool()`.  Завершается работа через `awaitTermination()` для гарантии завершения всех вычислений. 

## Подбор оптимального количества потоков

### Тестирование
1. Тестирование проводилось на процессоре с 4 ядрами
2. Использовались матрицы размеров: 500×500 и 1000×1000
3. Для каждого теста выполнялось 5 измерений и затем бралось среднее число 
4. Измерялось время для: 2, 4, 8 потоков

### Результаты тестирования

#### Матрица 500×500
| Количество потоков | Время (мс) | Ускорение | Эффективность |
|-------------------|------------|-----------|---------------|
| 1 (однопоточный)  | 1516       | 1.00x     | 100%          |
| 2                 | 798        | 1.90x     | 95%           |
| 4                 | 559        | 2.71x     | 68%           |
| 8                 | 498        | 3.04x     | 38%           |

#### Матрица 1000×1000
| Количество потоков | Время (мс) | Ускорение | Эффективность |
|-------------------|------------|-----------|---------------|
| 1 (однопоточный)  | 19169      | 1.00x     | 100%          |
| 2                 | 10826      | 1.77x     | 89%           |
| 4                 | 5307       | 3.61x     | 90%           |
| 8                 | 5300       | 3.62x     | 45%           |

### Анализ результатов

1. Для матрицы 500×500:
   - Максимальное ускорение достигается при 8 потоках (3.04x)
   - Эффективность использования потоков падает до 38%
   - Разница между 4 и 8 потоками составляет всего 61 мс (11%)

2. Для матрицы 1000×1000:
   - Максимальное ускорение при 8 потоках (3.62x)
   - Но разница между 4 и 8 потоками практически отсутствует (7 мс)
   - Эффективность при 4 потоках составляет 90%, при 8 - 45%

### Вывод

Оптимальное количество потоков: 4

- Для матриц меньшего размера (<300×300) параллельное вычисление не эффективно 
- Для очень больших матриц (>2000×2000) можно рассматривать увеличение количества потоков до 8


