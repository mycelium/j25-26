В данном задании было необходимо Подобрать оптимальное количество потоков. В коде рассмотрено три варианта умножения матриц:

1. Онопоточный вариант, реализованный в лабораторной работе 1
2. Оптимизированный, но также однопоточный вариант, реализованный в лабораторной 1
3. Многопоточный вариант, реализованный в этой работе

На машине, на которой запускалась программа, 4 ядра.

В зависимости от размера матриц наименьшее время было показано в различных вариантах запуска. Запуск выполнен стандартным образом для java-проекта.

Для матриц размером 2000*2000
8 потоков:
Время выполнения (однопоточный): 94268.8669 мс
Время выполнения (оптимизированный): 7603.6942 мс
Время выполнения (параллельный): 23170.2016 мс
16 потоков:
Время выполнения (однопоточный): 92999.0323 мс
Время выполнения (оптимизированный): 7458.0967 мс
Время выполнения (параллельный): 22896.5411 мс
20 потоков: 
Время выполнения (однопоточный): 98081.4355 мс
Время выполнения (оптимизированный): 8199.3801 мс
Время выполнения (параллельный): 26152.2439 мс
Можно заметить, что в среднем для 8, 16 и 20 потоков пропорциональный выйгрыш во времени одинаковый, поэтому может использоваться 8 потоков. При этом, стоит заметить, что, несмотр на многопотоковость, время, необходимое для подсчета оптимизированным способом на одном потоке меньше, поэтому наиболее оптимально использовать оптимизированный алгоритм для нескольких потоков.

Для матриц размером 1000*1000
4 потока:
Время выполнения (однопоточный): 3835.002001 мс
Время выполнения (оптимизированный): 1066.699499 мс
Время выполнения (параллельный): 1039.6199 мс
8 потоков:
Время выполнения (однопоточный): 3923.4752 мс
Время выполнения (оптимизированный): 1032.1131 мс
Время выполнения (параллельный): 909.2516 мс
16 потоков:
Время выполнения (однопоточный): 3721.4289 мс
Время выполнения (оптимизированный): 1071.6868 мс
Время выполнения (параллельный): 939.5085 мс
20 потоков:
Время выполнения (однопоточный): 3700.429 мс
Время выполнения (оптимизированный): 1026.54 мс
Время выполнения (параллельный): 899.323 мс
Для такого размера матриц ситуация аналогична предыдущей, однако в данном случае параллельные вычисления дают выйгрыш относительно оптимизированного алгоритма, поэтому оптимально использовать 8 потоков

Для матриц размером 500*500
4 потока:
Время выполнения (однопоточный): 215.0787 мс
Время выполнения (оптимизированный): 104.6019 мс
Время выполнения (параллельный): 86.2446 мс
8 потоков:
Время выполнения (однопоточный): 249.8085 мс
Время выполнения (оптимизированный): 105.1377 мс
Время выполнения (параллельный): 92.2243 мс
16 потоков:
Время выполнения (однопоточный): 300.7214 мс
Время выполнения (оптимизированный): 107.851 мс
Время выполнения (параллельный): 96.2593 мс
Для матриц такого размера, время выполнения пропорционально меньше даже в случае с 4 потоками, при этом также присутствует выйгрыш относительно оптимизированного алгоритма, поэтому оптимально использовать 4 потока.

Для матриц размером 100*100 параллельное выполнение не дает существенного выйгрыша во времени, поэтому можно использовать однопоточную версию.

Вывод:
Для матриц размером 1000*1000 - 8 потоков
для матриц размером 500*500 - 4 потока
Для матриц размером 100*100 и меньше - 1 поток









